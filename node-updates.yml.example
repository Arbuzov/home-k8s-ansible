# Пример конфигурации для обновления нескольких нод
# Сохраните этот файл как node-updates.yml и используйте:
# ansible-playbook playbooks/update-multiple-nodes.yml -e @node-updates.yml

node_updates:
  kube-master:
    version: "1.29"              # Версия Kubernetes для обновления
    drain: false                 # Не drain master ноду (если она единственная)
    system_update: true          # Обновить системные пакеты
    apply_upgrade: true          # Применить kubeadm upgrade

  kube-worker-1:
    version: "1.29"
    drain: true                  # Drain ноду перед обновлением
    system_update: true
    apply_upgrade: true

  kube-worker-2:
    version: "1.28"              # Можно обновлять до разных версий
    drain: true
    system_update: false         # Не обновлять системные пакеты
    apply_upgrade: true

# Дополнительные опции:
wait_between_nodes: 60           # Пауза между обновлениями нод (секунды)
confirm_update: true             # Запрашивать подтверждение перед началом
